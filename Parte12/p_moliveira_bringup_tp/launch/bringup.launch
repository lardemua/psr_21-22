<launch>
    <!--Bloco 1: argumentos do launch file.-->
    <arg name="model" default="$(env TURTLEBOT3_MODEL)" doc="model type [burger, waffle, waffle_pi]"/>
    <arg name="player_name" default="p_moliveira"/>
    <arg name="x_pos" default="0.0"/>
    <arg name="y_pos" default="-2.0"/>
    <arg name="z_pos" default="0.0"/>

    <group ns="$(arg player_name)">
        <param name="tf_prefix" value="$(arg player_name)"></param>
        <!--Bloco 3: Carregamento do xacro do robot para o parÃ¢metro robot_description.-->
        <param name="robot_description" command="$(find xacro)/xacro --inorder $(find p_moliveira_description_tp)/urdf/p_moliveira.urdf.xacro" />
        <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>

            <!-- Include do spawn.launch-->
        <include file="$(find p_moliveira_bringup_tp)/launch/spawn.launch">
            <arg name="player_name" value="$(arg player_name)"/>
            <arg name="x_pos" value="$(arg x_pos)"/>
            <arg name="y_pos" value="$(arg y_pos)"/>
            <arg name="z_pos" value="$(arg z_pos)"/>
        </include>
    </group>


    <!-- Include do visualize.launch-->
    <include file="$(find p_moliveira_bringup_tp)/launch/visualize.launch">
    </include>

    <!-- Include do teleop launch-->
<!--    <group ns="$(arg player_name)">-->
<!--        <node pkg="rqt_robot_steering" type="rqt_robot_steering" name="teleop_rqt"  output="screen">-->
<!--            <param name="~default_topic" value="/$(arg player_name)/cmd_vel"></param>-->
<!--        </node>-->
<!--    </group>-->
</launch>